16/12/2025
    Plugin Garantias:
        En el proyecto principal no estaba creado el directorio packages
        Ejecutar:
            mkdir -p packages/Reda/Garantias/{src/Http/Controllers,resources/views,resources/js,resources/css,routes}
            En el servidor vesta:
                sudo -u DEV2-Ofiliaria mkdir -p packages/Reda/Garantias/{src/Http/Controllers,resources/views,resources/js,resources/css,routes}        
        
        Se crearon los archivos:
            packages/Reda/Garantias/composer.json
            subir.sh
            subir_archivos_puntuales.sh
            webpack.mix.js

            packages/Reda/Garantias/config/garantia.php

            packages/Reda/Garantias/database/migrations/2025_12_21_000001_create_categorias_table.php
            packages/Reda/Garantias/database/migrations/2025_12_22_000001_crear_tabla_garantias.php
            packages/Reda/Garantias/database/migrations/2025_12_22_000002_create_personas_table.php
            packages/Reda/Garantias/database/migrations/2025_12_22_000003_create_personal_access_tokens_table.php
            packages/Reda/Garantias/database/migrations/2025_12_22_000004_agregar_columnas_tabla_garantias_20241212.php
            packages/Reda/Garantias/database/migrations/2025_12_22_000005_agregar_columnas_tabla_personas_20241212.php
            packages/Reda/Garantias/database/migrations/2025_12_22_000006_contrato_tabla_garantias.php
            packages/Reda/Garantias/database/migrations/2025_12_22_000007_contrato_tabla_personas.php
            packages/Reda/Garantias/database/migrations/2025_12_22_000008_agregar_columna_tabla_garantia.php
            packages/Reda/Garantias/database/migrations/2025_12_22_000009_crear_tabla_ubicacions_meli.php
            packages/Reda/Garantias/database/migrations/2025_12_22_000010_agregar_campos_ubicacions.php
            packages/Reda/Garantias/database/migrations/2025_12_22_000011_create_comodidads_table.php
            packages/Reda/Garantias/database/migrations/2025_12_22_000012_create_departamentos_table.php
            packages/Reda/Garantias/database/migrations/2025_12_22_000013_create_zonas_table.php
            packages/Reda/Garantias/database/migrations/2025_12_22_000014_add_agencia_agente_nombre_cache_to_garantias_table_x.php

            packages/Reda/Garantias/resources/views/categorias/index.blade.php
            packages/Reda/Garantias/resources/views/garantias/index.blade.php
            packages/Reda/Garantias/resources/views/layout_bridge.blade.php
            packages/Reda/Garantias/resources/views/mail_aprobacion_rechazo_garantia.blade.php
            packages/Reda/Garantias/resources/views/mail_envio_garantia.blade.php

            packages/Reda/Garantias/routes/web.php

            packages/Reda/Garantias/src/GarantiasServiceProvider.php

            packages/Reda/Garantias/src/Http/Controllers/CategoriaController.php
            packages/Reda/Garantias/src/Http/Controllers/ComodidadController.php
            packages/Reda/Garantias/src/Http/Controllers/DepartamentoController.php
            packages/Reda/Garantias/src/Http/Controllers/GarantiaController.php
            packages/Reda/Garantias/src/Http/Controllers/InfocasasController.php
            packages/Reda/Garantias/src/Http/Controllers/PersonaController.php
            packages/Reda/Garantias/src/Http/Controllers/UbicacionController.php
            packages/Reda/Garantias/src/Http/Controllers/ZonaController.php

            packages/Reda/Garantias/src/Mail/MailAprobacionRechazoGarantia.php
            packages/Reda/Garantias/src/Mail/MailEnvioGarantia.php

            packages/Reda/Garantias/src/Models/Categoria.php
            packages/Reda/Garantias/src/Models/Comodidad.php
            packages/Reda/Garantias/src/Models/Departamento.php
            packages/Reda/Garantias/src/Models/Garantia.php
            packages/Reda/Garantias/src/Models/Persona.php
            packages/Reda/Garantias/src/Models/Ubicacion.php
            packages/Reda/Garantias/src/Models/Zona.php

        Se agregaron estas lineas al composer.json del proyecto principal:

        ...
        "repositories": [
        {
            "type": "path",
            "url": "packages/Reda/Garantias",
            "options": {
                "symlink": true
            }
        }
        ],
        "require": {
            ...
            "reda/garantias": "@dev"
        },

        Se instaló composer en el servidor vesta

        sudo -u DEV2-Ofiliaria php8.2 /usr/local/bin/composer update reda/garantias
        sudo -u DEV2-Ofiliaria php8.2 artisan optimize:clear

        Se ejecutó:   
            sudo -u DEV2-Ofiliaria php8.2 artisan migrate --pretend
            sudo -u DEV2-Ofiliaria php8.2 artisan migrate

        Se creó una cuenta ftp para subir los archivos mediante un script Bash

        Se crearon las variables de acceso ftp en el archivo .env

        Se crearon los archivos:
            subir.sh
            subir_archivos_puntuales.sh

        Se dió permisos de ejecución al archivo subir.sh:
            chmod +x subir.sh        

        Se decidió usar webpack para el módulo React en lugar de Vite

        Se copiaron del antiguo proyecto React del antiguo proyecto de Ofiliaria:
            De la carpeta src:
                Todos los archivos jsx y carpetas que tienen archivos jsx a packages/Reda/Garantias/resources/js
                El archivo index.scss a packages/Reda/Garantias/resources/sass

            Con la ayuda de Gemini se copiaron las dependencias que están en el package.json del proyecto React al package.json que está en la raiz del proyecto Ofiliaria Laravel 

            Se ejecutó npm install en la raiz del proyecto

            Se eliminó del script subir.sh lo referente a vite ya que en este proyecto se usará solo webpack

            Se agregó a webpack.mix.js la compilación, respaldo y subida al servidor vesta de garantias.js y garantias.css

            Se eliminó del main.js de Garantias el import index.scss y se hicieron los ajustes para que ahora apunte al div con el id="indexGarantia"

            Se ajustó el archivo packages/Reda/Garantias/resources/views/layout_bridge.blade.php para que cargue los archivos compilados garantias.js y garantias.css

            En el archivo packages/Reda/Garantias/src/Http/Controllers/GarantiaController.php se movió el contenido de la acción index a una nueva acción busquedaGarantias y en la acción index solo se carga la vista index.blade que contiene únicamente la etiqueta div con el id="indexGarantia" para que arranque el proyecto react en el navegador

            Se creó el archivo packages/Reda/Garantias/resources/views/garantias/index.blade.php que sera la vista inicial de Garantías

            Se agregó la ruta al archivo packages/Reda/Garantias/routes/web.php

            Se hicieron estos cambios en el archivo index.scss:
                @import '~react-date-picker/dist/DatePicker.css';
                @import '~react-calendar/dist/Calendar.css';
                @import '~react-draft-wysiwyg/dist/react-draft-wysiwyg.css';

            Se ejecutó:
                npm install @babel/plugin-proposal-optional-chaining @babel/plugin-proposal-nullish-coalescing-operator --save-dev
                npm install @babel/preset-react --save-dev
                npm install @babel/plugin-transform-class-properties --save-dev
                npm install @babel/plugin-transform-logical-assignment-operators --save-dev

    Plugin Integraciones:
        Se creó un plugin para las integraciones de Mercado Libre e Infocasas usando Javascript y Jquery en el Frontend. 
            Se modificaron y/o crearon los siguientes módulos:
                composer.json
                packages/Reda/Integraciones/composer.json
                packages/Reda/Integraciones/src/IntegracionesServiceProvider.php
                packages/Reda/Integraciones/routes/web.php
                packages/Reda/Integraciones/resources/views/layout_bridge.blade.php
                packages/Reda/Integraciones/config/integracion.php
                packages/Reda/Integraciones/src/Http/Controllers/MercadoLibre/ImportadorController.php
                packages/Reda/Integraciones/resources/views/mercado_libre/importadores/index.blade.php
                packages/Reda/Integraciones/database/migrations/2025_12_21_000000_create_importadores_table.php
                
            Se ejecutó:
                sudo -u DEV2-Ofiliaria php8.2 /usr/local/bin/composer update reda/integraciones
                    Nota: También se pudo haber ejecutado: sudo -u DEV2-Ofiliaria php8.2 /usr/local/bin/composer dump-autoload. Cualquiera de los dos comandos son válidos.

                sudo -u DEV2-Ofiliaria php8.2 artisan optimize:clear

            Se modificaron los módulos:
                webpack.mix.js

            Se crearon los módulos:
                packages/Reda/Integraciones/resources/js/main.js
                packages/Reda/Integraciones/resources/js/vistas/mercado_libre/importadores/indexImportadores.js
                packages/Reda/Integraciones/resources/sass/main.scss

            En el archivo packages/Reda/Integraciones/routes/web.php para que se acceda a la vista mercado_libre/importadores con el prefijo user/ y solo si el usuario ha hecho login:
                https://dev2.ofiliaria.com/user/mercado-libre/importadores

            Ejecutar:   
                sudo -u DEV2-Ofiliaria php8.2 artisan migrate --pretend
                    Si todo ok, entonces ejecutar:
                        sudo -u DEV2-Ofiliaria php8.2 artisan migrate